# mysql引擎

MySQL引擎, 分别是MyISAM、InnoDB、Memory和CSV

推荐使用utf8mb4, 因为MySQL的utf8和标准的utf8标准不同，只支持3字节,utf8mb4支持4字节。

## InnoDB引擎
特点:
支持事务
默认使用行级锁
5.7版本后支持全文检索与空间函数

MySQL锁

职责分类	        粒度分类
共享锁 - 读锁	    行级锁
独占/排他锁 - 写锁	表级别
行级锁和表级锁从字面就可以明白是锁的范围, 在并发情况下, 行锁是远远优于表锁的, 这也是MyISAM被淘汰的原因(MyISAM是表锁)。

在InnoDB中, 只有利用索引的更新, 删除操作才会使用行级锁, 不能使用索引的写操作则是表级锁!

## MyISAM
特点:

不支持事务
支持全文检索, 支持text支持前缀检索
支持数据压缩
紧密存储, 顺序读性能好
表级锁

应用场景：
非事务应用, 例如保存日志
只读类引用, 报表数据, 字段数据
系统临时表,SQL查询, 分组的临时表引擎

## Memory
特点:

不支持事务
内存读写, 临时存储
读写效率高
表级锁
应用场景

读多写少的静态数据
充当缓存使用, 保存高频访问静态资源
系统临时表
此处的临时表并不是用SQL语句创建的临时表, 而是在执行诸如ORDER BY、GROUP BY 这种SQL时MySQL在内存中自动创建的中间表。如果这个SQL的中间结果超过了默认内存表的限制, 就会以MyISAM引擎存储在磁盘中。

Memory关键参数

设置max_heap_table_size控制内存表大小(字节)
设置tmp_table_size设置内存临时表最大值(字节)


## CSV
特点:

纯文件表村
不支持事务
不支持索引
![](../../img/cvs%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF.png)